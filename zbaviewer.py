from zbadocument import ZbaDocument
from zbarect import ZbaRect
import sys
from PyQt5.QtWidgets import QApplication
from mainwindow import MainWindow


def main():
    app = QApplication(sys.argv)
    w = MainWindow()
    w.initApp()
    w.show()

    with open("data/apr1.txt") as f:
    # with open("data/gk41.txt") as f:
    # with open("data/pln1-.001") as f:
    # with open("data/pln1-.002") as f:
    # with open("data/c10c1.d") as f:
        content = ''.join(f.readlines())

    doc = ZbaDocument.from_string(content)
    print(sys.getsizeof(doc))
    print(doc)

    print("--- AF ---")
    print(doc.afield_list[0])
    print("--- TF ---")
    print(doc.afield_list[0].tfield_list[0])
    print("--- RECTs ---")

    txt = "R0,0,0.4,0.4;R0,0.8,0.4,0.4;R0,1.6,0.4,0.4;"
          #"R0,2.4,0.4,0.4;R0,3.2,0.4,0.4;R0,4,0.4,0.4;R0,4.8,0.4,0.4;R0,5.6,0.4,0.4;R0,6.4,0.4,0.4;R0,7.2,0.4,0.4;R0,8,0.4,0.4;R0,8.8,0.4,0.4;R0,9.6,0.4,0.4;R0,10.4,0.4,0.4;R0,11.2,0.4,0.4;R0,12,0.4,0.4;R0,12.8,0.4,0.4;R0,13.6,0.4,0.4;R0,14.4,0.4,0.4;R0,15.2,0.4,0.4;R0,16,0.4,0.4;R0,16.8,0.4,0.4;R0,17.6,0.4,0.4;R0,18.3,0.4,0.4;R0,19.1,0.4,0.4;R0,19.9,0.4,0.4;R0,20.7,0.4,0.4;R0,21.5,0.4,0.4;R0,22.3,0.4,0.4;R0,23.1,0.4,0.4;R0,23.9,0.4,0.4;R0,24.7,0.4,0.4;R0,25.5,0.4,0.4;R0,26.3,0.4,0.4;R0,27.1,0.4,0.4;R0,27.9,0.4,0.4;R0,28.7,0.4,0.4;R0,29.5,0.4,0.4;R0,30.3,0.4,0.4;R0,31.1,0.4,0.4;R0,31.9,0.4,0.4;R0,32.7,0.4,0.4;R0,33.5,0.4,0.4;R0,34.3,0.4,0.4;R0,35.1,0.4,0.4;R0,35.9,0.4,0.4;R0,36.7,0.4,0.4;R0,37.5,0.4,0.4;R0,38.3,0.4,0.4;R0,39.1,0.4,0.4;R0,39.9,0.4,0.4;R0,40.7,0.4,0.4;R0,41.5,0.4,0.4;R0,42.3,0.4,0.4;R0,43.1,0.4,0.4;R0,43.9,0.4,0.4;R0,44.7,0.4,0.4;R0,45.5,0.4,0.4;R0,46.3,0.4,0.4;R0,47.1,0.4,0.4;R0,47.9,0.4,0.4;R0,48.7,0.4,0.4;R0,49.5,0.4,0.4;R0,50.3,0.4,0.4;R0,51.1,0.4,0.4;R0,51.9,0.4,0.4;R0,52.7,0.4,0.4;R0,53.5,0.4,0.4;R0,54.3,0.4,0.4;R0,55.1,0.4,0.4;R0,55.9,0.4,0.4;R0,56.7,0.4,0.4;R0,57.5,0.4,0.4;R0,58.3,0.4,0.4;R0,59.1,0.4,0.4;R0,59.9,0.4,0.4;R0,60.7,0.4,0.4;R0,61.5,0.4,0.4;R0,62.3,0.4,0.4;R0,63.1,0.4,0.4;R0,63.9,0.4,0.4;R0,64.7,0.4,0.4;R0,65.5,0.4,0.4;R0,66.3,0.4,0.4;R0,67.1,0.4,0.4;R0,67.9,0.4,0.4;R0,68.7,0.4,0.4;R0,69.5,0.4,0.4;R0,70.3,0.4,0.4;R0,71.1,0.4,0.4;R0,71.9,0.4,0.4;R0,72.7,0.4,0.4;R0,73.5,0.4,0.4;R0,74.3,0.4,0.4;R0,75.1,0.4,0.4;R0,76,0.4,0.4;R0,76.8,0.4,0.4;R0,77.6,0.4,0.4;R0,78.4,0.4,0.4;R0,79.2,0.4,0.4;R0,80,0.4,0.4;R0,80.8,0.4,0.4;R0,81.6,0.4,0.4;R0,82.4,0.4,0.4;R0,83.2,0.4,0.4;R0,84,0.4,0.4;R0,84.8,0.4,0.4;R0,85.6,0.4,0.4;R0,86.4,0.4,0.4;R0,87.2,0.4,0.4;R0,88,0.4,0.4;R0,88.8,0.4,0.4;R0,89.6,0.4,0.4;R0,90.4,0.4,0.4;R0,91.2,0.4,0.4;R0,92,0.4,0.4;R0,92.8,0.4,0.4;R0,93.6,0.4,0.4;R0,94.4,0.4,0.4;R0,95.2,0.4,0.4;R0,96,0.4,0.4;R0,96.8,0.4,0.4;R0,97.6,0.4,0.4;R0,98.4,0.4,0.4;R0,99.2,0.4,0.4;R0,100,0.4,0.4;R0,100.8,0.4,0.4;R0,101.6,0.4,0.4;R0,102.4,0.4,0.4;R0,103.2,0.4,0.4;R0,104,0.4,0.4;R0,104.8,0.4,0.4;R0,105.6,0.4,0.4;R0,106.4,0.4,0.4;R0,107.2,0.4,0.4;R0,108,0.4,0.4;R0,108.8,0.4,0.4;R0,109.6,0.4,0.4;R0,110.4,0.4,0.4;R0,111.2,0.4,0.4;R0,112,0.4,0.4;R0,112.8,0.4,0.4;R0,113.6,0.4,0.4;R0,114.4,0.4,0.4;R0,115.2,0.4,0.4;R0,116,0.4,0.4;R0,116.8,0.4,0.4;R0,117.6,0.4,0.4;R0,118.4,0.4,0.4;R0,119.2,0.4,0.4;R0,120,0.4,0.4;R0,120.8,0.4,0.4;R0,121.6,0.4,0.4;R0,122.4,0.4,0.4;R0,123.2,0.4,0.4;R0,124,0.4,0.4;R0,124.8,0.4,0.4;R0,125.6,0.4,0.4;R0,126.4,0.4,0.4;R0,127.2,0.4,0.4;R0,128,0.4,0.4;R0,128.8,0.4,0.4;R0,129.6,0.4,0.4;R0,130.4,0.4,0.4;R0,131.2,0.4,0.4;R0,132,0.4,0.4;R0,132.8,0.4,0.4;R0,133.6,0.4,0.4;R0,134.4,0.4,0.4;R0,135.2,0.4,0.4;R0,136,0.4,0.4;R0,136.8,0.4,0.4;R0,137.6,0.4,0.4;R0,138.4,0.4,0.4;R0,139.2,0.4,0.4;R0,140,0.4,0.4;R0,140.8,0.4,0.4;R0,141.6,0.4,0.4;R0,142.4,0.4,0.4;R0,143.2,0.4,0.4;R0,144,0.4,0.4;R0,144.8,0.4,0.4;R0,145.6,0.4,0.4;R0,146.4,0.4,0.4;R0,147.2,0.4,0.4;R0,148,0.4,0.4;R0,148.8,0.4,0.4;R0,149.6,0.4,0.4;R0,150.4,0.4,0.4;R0,151.2,0.4,0.4;R0,152,0.4,0.4;R0,152.8,0.4,0.4;R0,153.6,0.4,0.4;R0,154.4,0.4,0.4;R0,155.2,0.4,0.4;R0,156,0.4,0.4;R0,156.8,0.4,0.4;R0,157.6,0.4,0.4;R0,158.4,0.4,0.4;R0,159.2,0.4,0.4;R0,160,0.4,0.4;R0,160.8,0.4,0.4;R0,161.6,0.4,0.4;R0,162.4,0.4,0.4;R0,163.2,0.4,0.4;R0,164,0.4,0.4;R0,164.8,0.4,0.4;R0,165.6,0.4,0.4;R0,166.4,0.4,0.4;R0,167.2,0.4,0.4;R0,168,0.4,0.4;R0,168.8,0.4,0.4;R0,169.6,0.4,0.4;R0,170.4,0.4,0.4;R0,171.2,0.4,0.4;R0,172,0.4,0.4;R0,172.8,0.4,0.4;R0,173.6,0.4,0.4;R0,174.4,0.4,0.4;R0,175.2,0.4,0.4;R0,176,0.4,0.4;R0,176.8,0.4,0.4;R0,177.6,0.4,0.4;R0,178.4,0.4,0.4;R0,179.2,0.4,0.4;R0,180,0.4,0.4;R0,180.8,0.4,0.4;R0,181.6,0.4,0.4;R0,182.4,0.4,0.4;R0,183.2,0.4,0.4;R0,184,0.4,0.4;R0,184.8,0.4,0.4;R0,185.6,0.4,0.4;R0,186.4,0.4,0.4;R0,187.2,0.4,0.4;R0,188,0.4,0.4;R0,188.8,0.4,0.4;R0,189.6,0.4,0.4;R0,190.4,0.4,0.4;R0,191.2,0.4,0.4;R0,192,0.4,0.4;R0,192.8,0.4,0.4;R0,193.6,0.4,0.4;R0,194.4,0.4,0.4;R0,195.2,0.4,0.4;R0,196,0.4,0.4;R0,196.8,0.4,0.4;R0,197.6,0.4,0.4;R0,198.4,0.4,0.4;R0,199.2,0.4,0.4;"

    rectlist = [ZbaRect.from_string("R" + s) for s in txt.strip("R").split("R")]

    w.drawRects(rectlist)
    sys.exit(app.exec_())

if __name__ == '__main__':
    main()
